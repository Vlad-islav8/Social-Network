"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[269],{5269:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});var r=a(3003),t=a(5653),n=a(3871),c=a(3923);const o=e=>e.userPage.users,i=e=>e.userPage.totalUsersCount,g=e=>e.userPage.usersPages,l=e=>e.userPage.currenPages,u=e=>e.userPage.isFetching,d=e=>e.userPage.followingFetching;var h=a(5633),P=a(5043);const v="Users_usersBlock__FfZ1r",f="Users_userCard__bSCf-",m="Users_ava__7Vm9P",_="Users_moreInfoBlock__K9MS7",C="Users_userInfo__B1Ktj",x="Users_mainInfo__9WolX",j="Users_folowBtn__0Y3Oi";var N=a(6662);const b="PageNavigate_pageNavigate__7dUea",U="PageNavigate_navBtn__9R+0S",p="PageNavigate_searh__J9N6x";const w=a.p+"static/media/prev.401895fdd5d08c0b0ed481886901d815.svg";const k=a.p+"static/media/search.324bb6d04f8ff2b1cefc8a3c6c60ef6e.svg";const F=a.p+"static/media/next.6852a5f25c7a8fedef90d69b2ab9447f.svg";var A=a(579);const T=e=>{let s=(0,P.useRef)(null),a=Math.ceil(e.totalUsersCount/e.usersPages);const r=[];for(let n=1;n<=a;n++)r.push(n);const t=s=>{"prev"===s?e.onPageChanged(e.currenPages+1):"next"===s&&e.onPageChanged(e.currenPages-1)};return(0,A.jsxs)("div",{className:b,children:[(0,A.jsx)("button",{className:U,onClick:()=>{t("next")},children:(0,A.jsx)("img",{src:w,alt:""})}),(0,A.jsx)("input",{ref:s,type:"text",value:e.currenPages,onChange:()=>{e.setPageNumberActive(s.current.value,a)}}),(0,A.jsx)("button",{className:p,onClick:()=>{e.onPageChanged(e.currenPages),e.setPageNumberActive(s.current.value,a),e.activePage(s.current.value)},children:(0,A.jsx)("img",{src:k,alt:""})}),(0,A.jsx)("button",{className:U,onClick:()=>{t("prev")},children:(0,A.jsx)("img",{src:F,alt:""})})]})};const B=function(e){const s=(s,a)=>{e.folowUserThuncCreator(s,a)};return(0,A.jsxs)("div",{className:v,children:[(0,A.jsx)(T,{onPageChanged:e.onPageChanged,currenPages:e.currenPages,totalUsersCount:e.totalUsersCount,usersPages:e.usersPages,setPageNumberActive:e.setPageNumberActive,activePage:e.activePage}),e.users.map((a=>(0,A.jsxs)("div",{className:f,children:[(0,A.jsx)("div",{className:m,children:(0,A.jsx)(N.N_,{to:`/profile/${a.id}`,children:(0,A.jsx)("img",{src:null===a.photos.small?"https://justvision.org/sites/default/files/2019-11/ofer-shinar.png":a.photos.small,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})})}),(0,A.jsxs)("div",{className:_,children:[(0,A.jsx)("div",{className:C,children:(0,A.jsxs)("div",{className:x,children:[(0,A.jsx)("h1",{children:a.name}),(0,A.jsx)("h2",{children:a.status&&(0,A.jsx)("span",{children:a.status})})]})}),a.followed?(0,A.jsx)("button",{className:j,disabled:e.folowingFetching.some((e=>e===a.id)),onClick:()=>{s(a.id,"unFollow")},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,A.jsx)("button",{className:j,disabled:e.folowingFetching.some((e=>e===a.id)),onClick:()=>{s(a.id,"follow")},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})]},a.id)))]})};var z=a(6150);let I={activePage:t.ue,getUsersThunkCreator:t.Hz,followUserThunkCreator:t.vk,setPageNumberActive:t.Bz};const S=(0,c.Zz)(n.H,(0,r.Ng)((e=>({users:o(e),totalUsersCount:i(e),usersPages:g(e),currenPages:l(e),isFetching:u(e),folowingFetching:d(e),isAuth:(0,h.j)(e)})),I))((e=>{(0,P.useEffect)((()=>{e.getUsersThunkCreator(e.currenPages,e.usersPages)}),[e.currenPages,e.usersPages]);const s=s=>{e.activePage(s),e.getUsersThunkCreator(s,e.usersPages)};return e.isFetching?(0,A.jsx)(z.A,{}):(0,A.jsx)(B,{totalUsersCount:e.totalUsersCount,usersPages:e.usersPages,currenPages:e.currenPages,activePage:e.activePage,users:e.users,folowingFetching:e.folowingFetching,setFolowingFetching:e.setFolowingFetching,onPageChanged:s,folowUserThuncCreator:e.followUserThunkCreator,setPageNumberActive:e.setPageNumberActive})}))}}]);
//# sourceMappingURL=269.f6ed60ec.chunk.js.map