"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[344],{582:(e,s,a)=>{a.r(s),a.d(s,{default:()=>q});var t=a(3),r=a(863),n=a(871),c=a(923),o=a(99);const i=e=>e.userPage,l=(0,o.Mz)([i],(e=>e.users)),g=(0,o.Mz)([i],(e=>e.totalUsersCount)),u=(0,o.Mz)([i],(e=>e.usersPages)),d=(0,o.Mz)([i],(e=>e.currenPages)),h=(0,o.Mz)([i],(e=>e.isFetching)),P=(0,o.Mz)([i],(e=>e.followingFetching));var v=a(563),f=a(43);const m="Users_usersBlock__qg5FV",_="Users_userCard__Q7LQb",C="Users_ava__K+y51",x="Users_moreInfoBlock__XfI3A",j="Users_userInfo__MhOaf",N="Users_mainInfo__mazdb",b="Users_folowBtn__E9YyN";var w=a(260);const U="PageNavigate_pageNavigate__O-geP",k="PageNavigate_navBtn__yzQid",p="PageNavigate_searh__fMGqX";const F=a.p+"static/media/prev.401895fdd5d08c0b0ed481886901d815.svg";const z=a.p+"static/media/search.324bb6d04f8ff2b1cefc8a3c6c60ef6e.svg";const A=a.p+"static/media/next.6852a5f25c7a8fedef90d69b2ab9447f.svg";var M=a(579);const T=e=>{let s=(0,f.useRef)(null);const[a,t]=(0,f.useState)(e.currenPages);let r=Math.ceil(e.totalUsersCount/e.usersPages);const n=[];for(let i=1;i<=r;i++)n.push(i);const c=s=>{"prev"===s?e.onPageChanged(e.currenPages+1):"next"===s&&e.onPageChanged(e.currenPages-1)},o=()=>{e.onPageChanged(e.currenPages),e.setPageNumberActive(s.current.value,r),e.activePage(s.current.value)};return(0,M.jsxs)("div",{className:U,children:[(0,M.jsx)("button",{className:k,onClick:()=>{c("next")},children:(0,M.jsx)("img",{src:F,alt:""})}),(0,M.jsx)("input",{ref:s,type:"text",value:a,onChange:()=>{t(s.current.value)},onKeyDown:e=>{e.key,o()}}),(0,M.jsx)("button",{className:p,onClick:o,children:(0,M.jsx)("img",{src:z,alt:""})}),(0,M.jsx)("button",{className:k,onClick:()=>{c("prev")},children:(0,M.jsx)("img",{src:A,alt:""})})]})};var y=a(234);const B=function(e){const s=(s,a)=>{e.folowUserThuncCreator(s,a)};return(0,M.jsxs)("div",{className:m,children:[(0,M.jsx)(T,{onPageChanged:e.onPageChanged,currenPages:e.currenPages,totalUsersCount:e.totalUsersCount,usersPages:e.usersPages,setPageNumberActive:e.setPageNumberActive,activePage:e.activePage}),e.users.map((a=>(0,M.jsxs)("div",{className:_,children:[(0,M.jsx)("div",{className:C,children:(0,M.jsx)(w.N_,{to:"/profile/".concat(a.id),children:(0,M.jsx)("img",{src:a.photos.small?a.photos.small:y,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"})})}),(0,M.jsxs)("div",{className:x,children:[(0,M.jsx)("div",{className:j,children:(0,M.jsxs)("div",{className:N,children:[(0,M.jsx)("h1",{children:a.name}),(0,M.jsx)("h2",{children:a.status&&(0,M.jsx)("span",{children:a.status})})]})}),a.followed?(0,M.jsx)("button",{className:b,disabled:e.folowingFetching.some((e=>e===a.id)),onClick:()=>{s(a.id,"unFollow")},children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):(0,M.jsx)("button",{className:b,disabled:e.folowingFetching.some((e=>e===a.id)),onClick:()=>{s(a.id,"follow")},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})]})]},a.id)))]})};var I=a(16);let Q={activePage:r.ue,getUsersThunkCreator:r.Hz,followUserThunkCreator:r.vk,setPageNumberActive:r.Bz};const q=(0,c.Zz)(n.H,(0,t.Ng)((e=>({users:l(e),totalUsersCount:g(e),usersPages:u(e),currenPages:d(e),isFetching:h(e),folowingFetching:P(e),isAuth:(0,v.jb)(e)})),Q))((e=>{(0,f.useEffect)((()=>{e.getUsersThunkCreator(e.currenPages,e.usersPages)}),[e.currenPages,e.usersPages]);const s=s=>{e.activePage(s),e.getUsersThunkCreator(s,e.usersPages)};return e.isFetching?(0,M.jsx)(I.A,{}):(0,M.jsx)(B,{totalUsersCount:e.totalUsersCount,usersPages:e.usersPages,currenPages:e.currenPages,activePage:e.activePage,users:e.users,folowingFetching:e.folowingFetching,setFolowingFetching:e.setFolowingFetching,onPageChanged:s,folowUserThuncCreator:e.followUserThunkCreator,setPageNumberActive:e.setPageNumberActive})}))}}]);
//# sourceMappingURL=344.42eb564f.chunk.js.map